# Logrotate configuration for ICS Security System
# Copy to: /etc/logrotate.d/ics-security

/home/naim/pipeline_project/3_DATA_AND_ARTIFACTS/*.csv {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 644 naim naim
    dateext
    dateformat -%Y%m%d
    postrotate
        # Signal logger to reopen file after rotation
        systemctl kill -HUP ics_logger.service 2>/dev/null || true
    endscript
}

/var/log/mosquitto/*.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 644 mosquitto mosquitto
}

